# 変更履歴

## v1.17.0 - CSVエクスポート安定化とリファクタリング
- Fix: レコードCSVエクスポート時の参照エラー（parentField未定義）を解消
- Fix: 「サブテーブル含む全データ」CSVにサブテーブルセクションが含まれない問題を修正
- Fix: サブテーブル行の値を正しくフラット化し、親レコードID以外の列も出力
- Fix: Kintone画面のフォーム配下でボタンが動作しない問題に対応（`type="button"` と `preventDefault`）
- Refactor: アプリ名取得を `AppCache.getAppDisplayName(appId)` に集約（複数モジュールで共通化）
- Hardening: `OptionDetails` / `TableHelpers` 参照に存在チェックを追加し耐障害性向上

## v1.16.0 - アプリ一覧選択画面のポップアップウィンドウ化
- **ポップアップウィンドウ表示**: アプリ一覧選択画面をポップアップウィンドウとして表示
- **オーバーレイ背景**: 半透明のオーバーレイ背景でポップアップを強調表示
- **自動閉じる機能**: アプリ選択後にポップアップが自動的に閉じる
- **複数の閉じる方法**: ×ボタン、オーバーレイクリック、ESCキーでポップアップを閉じる
- **改善されたUI**: より洗練されたデザインとアニメーション効果
- **レスポンシブ対応**: 画面サイズに応じた適切なポップアップサイズ

## v1.15.0 - LABELフィールド表示の改善
- **LABELフィールドの表示統一**: フィールドコードを「FC未定義」、フィールド名を「FN未定義」で表示するように統一
- **グループフィールド内のLABELフィールド対応**: グループ内のLABELフィールドも同様に「FC未定義」「FN未定義」で表示
- **全モジュール対応**: スキーマ表示、レコード表示、CSV出力のすべてで統一された表示

## v1.14.0 - CSV出力でのHTMLタグ保持
- **HTMLタグ保持**: CSV出力時にリッチエディターフィールドの初期値からHTMLタグを除去しないように変更
- **後処理対応**: HTMLタグを含む初期値はそのままCSVに出力されるように修正
- **ユーザビリティ向上**: ユーザーが必要に応じて後処理できるよう、元のHTML形式を保持

## v1.13.0 - システムフィールド表示の修正
- **システムフィールド対応**: 更新者、作成者フィールドの適切な表示対応
- **オブジェクト形式データ処理**: システムフィールドのオブジェクト形式データを適切に処理
- **統一対応**: UI表示とCSV出力両方でシステムフィールド対応

## v1.12.0 - オプション詳細表示のプロパティ名ボールド体化
- **プロパティ名の視覚化**: オプション詳細のプロパティ名をボールド体で表示
- **可読性向上**: UI表示での可読性をさらに向上
- **関数分離**: HTML版とテキスト版の関数を分離（UI表示用とCSV出力用）

## v1.11.0 - オプション詳細表示の可読性向上
- **改行区切り表示**: オプション詳細のプロパティ表示を改行区切りに変更（セミコロン区切りから）
- **UI表示最適化**: UI表示での可読性を大幅に向上
- **CSV互換性**: CSV出力では従来通りセミコロン区切りを維持（CSVファイルの性質上）

## v1.10.0 - LABELフィールドのレコード表示除外機能
- **レコード表示除外**: LABELフィールドをレコード表示から常に除外（データではないため）
- **スキーマ表示制御**: スキーマ表示では従来通りチェックボックスで表示/非表示を制御
- **全機能対応**: レコード表示、CSV出力、サブテーブル表示すべてでLABELフィールドを除外
- **適切なデータ表示**: より適切なデータ表示の実現

## v1.9.0 - LABELフィールド表示スイッチと関連レコード一覧条件表示の改善
- **LABELフィールド表示スイッチ**: LABELフィールドの表示/非表示を切り替え可能なスイッチを追加
- **関連レコード一覧条件表示改善**: 関連レコード一覧の条件とソート条件表示を改善（field・relatedField対応）
- **LABELフィールド表示統一**: LABELフィールドのフィールドコード・フィールド名を「未定義」で表示
- **レイアウト対応**: レイアウトからLABELフィールドを収集しスキーマに追加する機能
- **全モジュール統一**: 全モジュール（UI表示、CSV出力、グループ処理、サブテーブル処理）での統一対応

## v1.8.0 - UI表示の最適化とCSVヘッダーの統一
- **シンプルな表示**: 画面表示から説明カラムを削除し、より見やすい表示に最適化
- **CSVヘッダー統一**: CSV出力のヘッダーを画面表示に完全統一
- **全CSV出力対応**: メインフィールド、グループフィールド、サブテーブルフィールドの全CSV出力で統一対応
- **UI/UX改善**: シンプルで一貫性のあるUI/UXの実現

## v1.7.0 - ルックアップフィールド処理の完全対応とUI統一
- **ルックアップフィールド完全対応**: フィールドタイプに関係なくlookupプロパティを持つフィールドをルックアップとして処理
- **UI統一**: フィールドコードカラムのフォントとサイズをフィールド名カラムに統一
- **グループ・サブテーブル対応**: グループ内・サブテーブル内のルックアップフィールドも完全対応
- **全モジュール統一**: 全モジュール（UI表示、CSV出力、グループ処理、サブテーブル処理）での統一対応

## v1.6.0 - グループフィールド処理の大幅改善
- **フィールドキー生成問題解決**: グループフィールド内のフィールドキー生成問題を解決
- **適切なキー生成**: `code`プロパティが存在しないフィールドの適切なキー生成機能追加
- **レイアウト情報最適化**: レイアウト情報からの詳細フィールド取得処理の最適化
- **フィールド数表示**: グループ内フィールド数の正確な表示
- **ログ最適化**: ログ出力の最適化（不要なログの削除）
- **UIリセット機能**: UIリセット機能の追加（アプリ一覧表示時の画面クリア）
- **LABEL・LOOKUP対応**: LABEL・LOOKUPフィールドの完全対応

## v1.5.0 - アプリ名表示機能追加
- **アプリ名表示**: 関連レコード一覧フィールド・ルックアップフィールドでアプリ名も併せて表示
- **表示フォーマット**: `アプリ名 (アプリID)` 形式での表示
- **キャッシュ機能**: アプリ名キャッシュ機能による効率的なアプリ名取得
- **CSV・UI対応**: CSV出力・UI表示両方でアプリ名表示対応
- **初期化処理**: queryTable-main.js でのアプリ名キャッシュ初期化処理追加

## v1.4.0 - 高度なフィールドタイプ対応
- **計算フィールド対応**: 計算フィールドのオプション詳細対応（計算式表示）
- **関連レコード一覧対応**: 関連レコード一覧フィールドのオプション詳細対応（関連アプリ、条件、表示フィールド等）
- **ルックアップフィールド対応**: ルックアップフィールドのオプション詳細対応（参照アプリ、フィールドマッピング等）
- **全モジュール統一**: 全モジュールでの高度フィールドタイプ統一対応

## v1.3.0 - UI機能大幅強化
- **オプション詳細カラム**: オプション詳細カラム追加（CSVと同等の詳細情報表示）
- **テーブルリサイズ**: テーブルカラムリサイズ機能（全テーブル対応）
- **フィールド数表示**: グループ・サブテーブルフィールド数表示
- **ラベルフィールドサポート**: ラベルフィールドサポート追加
- **サブテーブルリサイズ**: サブテーブル表示のリサイズ対応

## v1.2.0 - アーキテクチャ改善
- **モジュール分割**: グループフィールド処理の専用モジュール化（groupFieldProcessor.js）
- **サブテーブルモジュール化**: サブテーブルフィールド処理の専用モジュール化（subtableFieldProcessor.js）
- **保守性向上**: コード保守性向上・重複コード削除

## v1.1.0 - 機能拡張
- **グループフィールド内スキーマ表示**: グループフィールド内スキーマ表示
- **CSV出力対応**: CSV出力でのグループフィールド処理
- **サブテーブル完全対応**: サブテーブル処理の完全対応

## v1.0.0 - 初期リリース（モジュール分割版）
- **モジュール分割**: 旧バージョンから機能を分割し、保守性を向上
- **基本機能**: スキーマ表示、レコード表示、CSV出力の基本機能
